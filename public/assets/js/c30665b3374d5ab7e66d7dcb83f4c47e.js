(function(){function handleBurgerClick(){const button=document.querySelector('#main-header .burger');if(!button)return;button.addEventListener('click',()=>{document.body.classList.toggle('mobile-menu-open');const openSubLevels=document.querySelectorAll('#main-navigation .open');openSubLevels.forEach(item=>item.classList.remove('open'));});}
function handleMobileNavigationItemClick(){const items=document.querySelectorAll('#main-navigation li');items.forEach(item=>item.addEventListener('click',event=>{if(!item.classList.contains('has-sub'))return;const{clientX}=event;const{innerWidth}=window;if(clientX<=innerWidth-50)return;event.preventDefault();const currentLevel=item.closest('ul');const nextLevel=currentLevel.classList.contains('top')?item.querySelector('.sub-menu-container'):item.querySelector('ul');if(!nextLevel)return;nextLevel.classList.add('open');}));}
function handleMobileNavigationBackClick(){const buttons=document.querySelectorAll('.mobile-navigation-back');buttons.forEach(button=>button.addEventListener('click',()=>{const levelContainer=button.parentElement.classList.contains('open')?button.parentElement:button.closest('.sub-menu-container');levelContainer.classList.remove('open');}));}
function handleSubMenuItemHover(){if(window.innerWidth<=1200)return;const items=document.querySelectorAll('#main-navigation li.has-sub');items.forEach(item=>item.addEventListener('mouseover',()=>{const subMenuContainer=item.closest('.sub-menu-container');const subMenu=item.querySelector(':scope > ul');if(!subMenu||!subMenuContainer)return;subMenuContainer.style.height=`${subMenu.clientHeight}px`;}));items.forEach(item=>item.addEventListener('mouseleave',()=>{const subMenuContainer=item.closest('.sub-menu-container');if(!subMenuContainer)return;subMenuContainer.style.height='auto';}));}
function handleMainMenuItemHover(){if(window.innerWidth<=1200)return;const items=document.querySelectorAll('#main-navigation .top > li');if(!items.length)return;items.forEach(item=>item.addEventListener('mouseover',()=>{const subMenuContainer=item.querySelector('.sub-menu-container');const nestedMenus=item.querySelectorAll('ul');if(!nestedMenus||!subMenuContainer)return;let maxHeight=0;nestedMenus.forEach(menu=>{if(menu.clientHeight>maxHeight)maxHeight=menu.clientHeight;});if(maxHeight)subMenuContainer.style.height=`${maxHeight}px`;}));items.forEach(item=>item.addEventListener('mouseleave',()=>{const subMenuContainer=item.querySelector('.sub-menu-container');if(!subMenuContainer)return;subMenuContainer.style.height='auto';}));}
document.addEventListener('DOMContentLoaded',()=>{handleMainMenuItemHover();handleSubMenuItemHover();handleBurgerClick();handleMobileNavigationItemClick();handleMobileNavigationBackClick();});})();